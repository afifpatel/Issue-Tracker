{"version":3,"sources":["../server/issue.js"],"names":["validIssueStatus","New","Open","Assigned","Fixed","Verified","Closed","issueFieldType","status","owner","effort","created","completionDate","title","validateIssue","issue","field","type","convertIssue","Date","cleanupIssue","cleanedUpIssue","Object","keys","forEach"],"mappings":"AAAA;;;;;AAEA,MAAMA,mBAAmB;AACrBC,SAAK,IADgB;AAErBC,UAAM,IAFe;AAGrBC,cAAU,IAHW;AAIrBC,WAAO,IAJc;AAKrBC,cAAU,IALW;AAMrBC,YAAQ;AANa,CAAzB;;AASA,MAAMC,iBAAiB;AACnBC,YAAQ,UADW;AAEnBC,WAAO,UAFY;AAGnBC,YAAQ,UAHW;AAInBC,aAAS,UAJU;AAKnBC,oBAAgB,UALG;AAMnBC,WAAO;AANY,CAAvB;;AASA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,SAAI,MAAMC,KAAV,IAAmBD,KAAnB,EAA0B;AACtB,cAAME,OAAOV,eAAeS,KAAf,CAAb;AACJ,YAAG,CAACC,IAAJ,EAAU;AACN,mBAAOF,MAAMC,KAAN,CAAP;AACH,SAFD,MAEO,IAAKC,QAAQ,UAAR,IAAsB,CAACF,MAAMC,KAAN,CAA5B,EAAyC;AAC5C,mBAAQ,GAAEA,KAAM,eAAhB;AACH;AACJ;;AAED,QAAG,CAAChB,iBAAiBe,MAAMP,MAAvB,CAAJ,EACI,OAAQ,GAAEO,MAAMP,MAAO,yBAAvB;;AAEJ,WAAO,IAAP;AAEC;;AAED,SAASU,YAAT,CAAsBH,KAAtB,EAA6B;AACzB,QAAGA,MAAMJ,OAAT,EAAkBI,MAAMJ,OAAN,GAAgB,IAAIQ,IAAJ,CAASJ,MAAMJ,OAAf,CAAhB;AAClB,QAAGI,MAAMH,cAAT,EAAyBG,MAAMH,cAAN,GAAuB,IAAIO,IAAJ,CAASJ,MAAMH,cAAf,CAAvB;AACzB,WAAOQ,aAAaL,KAAb,CAAP;AACH;;AAED,SAASK,YAAT,CAAsBL,KAAtB,EAA6B;AAC3B,UAAMM,iBAAiB,EAAvB;AACAC,WAAOC,IAAP,CAAYR,KAAZ,EAAmBS,OAAnB,CAA2BR,SAAS;AAClC,YAAIT,eAAeS,KAAf,CAAJ,EAA2BK,eAAeL,KAAf,IAAwBD,MAAMC,KAAN,CAAxB;AAC5B,KAFD;AAGF;AACE,WAAOK,cAAP;AAED;;AAED;AACA;AACA;;kBAEe,EAA+B;AAC1CP,gCADW;AAEXM,8BAFW;AAGXF;AAHW,C","file":"issue.js","sourcesContent":["'use strict';\r\n\r\nconst validIssueStatus = {\r\n    New: true,\r\n    Open: true,\r\n    Assigned: true,\r\n    Fixed: true,\r\n    Verified: true,\r\n    Closed: true,\r\n    };\r\n\r\nconst issueFieldType = {\r\n    status: 'required',\r\n    owner: 'required',\r\n    effort: 'optional',\r\n    created: 'required',\r\n    completionDate: 'optional',\r\n    title: 'required',\r\n    };\r\n\r\nfunction validateIssue(issue) {\r\n    for(const field in issue ){\r\n        const type = issueFieldType[field];\r\n    if(!type) {\r\n        delete issue[field];\r\n    } else if ( type == 'required' && !issue[field]){\r\n        return `${field} is required.`;\r\n    }\r\n}\r\n\r\nif(!validIssueStatus[issue.status])\r\n    return `${issue.status} is not a valid status.`;\r\n\r\nreturn null;\r\n\r\n}\r\n\r\nfunction convertIssue(issue) {\r\n    if(issue.created) issue.created = new Date(issue.created);\r\n    if(issue.completionDate) issue.completionDate = new Date(issue.completionDate);\r\n    return cleanupIssue(issue);\r\n}\r\n\r\nfunction cleanupIssue(issue) {\r\n  const cleanedUpIssue = {};\r\n  Object.keys(issue).forEach(field => {\r\n    if (issueFieldType[field]) cleanedUpIssue[field] = issue[field];\r\n  });\r\n//   console.log(\"issue list returned issue =>\",issue);\r\n  return cleanedUpIssue;\r\n\r\n}\r\n\r\n// module.exports = {\r\n//     validateIssue : validateIssue\r\n// };\r\n\r\nexport default {                              //ES2015\r\n    validateIssue,\r\n    cleanupIssue,\r\n    convertIssue,\r\n};\r\n\r\n\r\n"]}